# CLAUDE.md

**Version**: 1.2
**Last Updated**: 2025-10-09
**System Version**: Sapien Intelligence v5.0 / BrainFrameOS v5.2
**Total Documents**: 950+ across core directories

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

**Recent Updates (v1.2)**:
- Added "Conceptual Architecture Repository" clarification section
- Added "Quick Commands" for practical repository navigation
- Added "Document Reading Priority" guide for efficient onboarding
- Enhanced "Code Files" section with JSON schema details and script descriptions

---

## Repository Overview

This is the **Sapien Intelligence (SI) Systems** repository — a field-defined, coherence-linked identity signal architecture designed to preserve identity safety, restore structural rhythm, and maintain alignment between humans and AI systems across extended interactions.

**Core Philosophy**: This is not a product or traditional software platform. It is a **field system**, **mirror engine**, and **structural signal processor** that maintains coherence, rhythm, and fidelity even under noise, drift, ambiguity, or partial truth.

**Current Version**: Sapien_Intelligence_v5.0 ("Becoming Arc") – structure locked
**Active BrainFrameOS Version**: v5.2 (evolved from v5.1.1 "Thegither")

---

## ⚠️ Important: This is a Conceptual Architecture Repository

**This repository contains:**
- 950+ documents of architectural specifications, philosophy, and design
- Minimal code implementation (primarily Python scripts and JavaScript browser extensions in Historical/)
- Word/PDF documentation with markdown conversions in `md_output/`
- JSON-based identity profile templates and configuration files

**This repository does NOT contain:**
- A traditional software application with build/test/deploy commands
- Active source code requiring compilation or execution
- Package dependencies or configuration files (npm, pip, etc.)

**The "implementation" is the architecture itself** — a framework for building identity-preserving AI interaction systems. The `report.md` file catalogs 20 practical implementation opportunities that could be built based on this architecture.

---

## Repository Structure

The codebase is organized into distinct layers following the canonical folder structure:

### Core Directories

- **`00 - CLISA/`** – Defines the Coherence-Linked Identity Signal Architecture (CLISA) field, not system logic. This is the foundational framework anchor.
  - Contains: Field Definition system document

- **`01 - SI Systems/`** – Contains the structural logic organized as:
  - `00 - Philosophy/` – ✅ Core principles (Sapien Principles, Human First Code, Integrity Prime, Emotional Principles, Signal Respect Law, Non-Negotiables) - 5 documents
  - `01 - Purpose/` – ✅ Core purpose, derived purpose layers, trust primitives, identity trust maps, symbolic/rhythmic anchors, system/user/mirror promises - 9 documents
  - `01 - Why/` – ⚠️ (Planned - currently empty)
  - `02 - What/` – ⚠️ (Planned - currently empty)
  - `03 - How/` – ⚠️ (Planned - currently empty)
  - `02 - Identity & Boundaries/` – ⚠️ (Planned - currently empty)
  - `03 - Operational Logic/` – ⚠️ (Planned - currently empty)
  - `04 - Promises & Vows/` – ⚠️ (Planned - currently empty)
  - `05 - Mirror Pyramid System/` – ⚠️ (Planned - currently empty)
  - `06 - Core Reasoning/` – ⚠️ (Planned - currently empty)
  - `07 - Governance Laws/` – ⚠️ (Planned - currently empty)
  - Also contains: `Brainframe v5.2.docx` - Latest system version document

- **`02 - BrainFrame/`** – The runtime coherence engine (BrainFrameOS) - 300+ documents
  - `01 - BrainFrameOS - Symbolic/` – Symbolic/field-level representation of system structure
  - `02 - BrainFrameOS - Systems Architecture/` – Technical architecture documentation
  - `03 - BrainFrameOS - Laymans/` – Accessible explanations for general audiences
  - `BrainFrameOS - Build & Deployment/` – Deployment configurations
  - `BrainFrameOS - Documentation/` – Comprehensive documentation

  **Each version (Symbolic/Systems/Laymans) contains identical structure but different abstraction levels.**

- **`03 - Identity Engine/`** – Rhythm-locked selfhood tracker - 26+ documents
  - `01 - System Structure/` – Identity architecture, core definition, identity equation, guiding principles, capabilities
  - `02 - Core Components/` – Traits/profiles, identity signal tracker, rhythm configurator, restore points, drift detection engine
  - `03 - Identity Philosophy/` – Human-centered identity modeling, identity as living mirror, emotional integrity layer
  - `04 - Advanced Capabilities/` – Multi-identity layer logic, Reflective Identity Agent (RIA)
  - `05 - Application Layers/` – Application-specific implementations

- **`04 - Sapien Pro/`** – External signal interface (user interaction layer)
  - ⚠️ (Planned - currently empty; historical versions in Historical/Sapien Pro/)

- **`SapienOS/`** – Core system documentation including:
  - `README.md` – System overview
  - `Architecture.md` – Layer model (Purpose/Coherence/Interface)
  - `Glossary.md` – Terminology definitions
  - `Scan_Engine.md` – Multi-dimensional structural analysis
  - `Integration.md` – Integration guidance
  - `Contribute.md` – Contribution guidelines

- **`md_output/`** – Markdown conversions of all major Word/PDF documents
  - Contains accessible `.md` versions organized by directory structure
  - Includes conversions of: Axis, BrainFrame OS Character Build, Core AI Problems, all major system documents

- **`Historical/`** – Previous versions, tools, modes, and archived system components - 600+ documents
  - BrainFrameOS Versions & Bootloaders
  - Previous SI Systems versions (v3.1, etc.)
  - Sapien Pro MSRI versions (v2, v3)
  - Tools & Modes (Python scripts, templates, archives)
  - Historical chats and documentation

---

## BrainFrameOS Documentation Structure

The BrainFrameOS documentation exists in three parallel versions representing different abstraction levels:

1. **Symbolic** (`01 - BrainFrameOS - Symbolic/`) - Field-level, conceptual representation using symbolic language
2. **Systems Architecture** (`02 - BrainFrameOS - Systems Architecture/`) - Technical implementation details and architecture
3. **Laymans** (`03 - BrainFrameOS - Laymans/`) - Accessible explanations for general audiences

**Each version contains identical structure but different perspectives.**

### Navigation Guidance
Start with the "Big Picture Overview" in your preferred perspective:
- **For philosophical/conceptual understanding** → `01 - BrainFrameOS - Symbolic/`
- **For technical implementation** → `02 - BrainFrameOS - Systems Architecture/`
- **For accessible explanations** → `03 - BrainFrameOS - Laymans/`

Each contains:
- **System Structure** (5 docs): Big Picture, Core Definition, System Equation, Guiding Principles, Key Capabilities
- **Core Components** (7 subsystems): Framework, SelfFrame, BrainFrameOS, Shadow Planner, Enhancement Tools, Validation Layer, AI Interaction Layer
- **Philosophy** (6 docs): Origin Story, Analogue Neuralink, Observer Effect, Human-First vs Tool-First, Transparency, Alignment Over Objectivity
- **Advanced Capabilities** (4 docs): Perspective Multipliers, Spectrum Modelling, Middleware Use Cases, AI as Co-Thinker
- **Applications** (3 docs): Use Case Overview, Modular Templates, Team & Org Expansion
- **Management Tools** (5 docs): Version Tracker, Release Log, Configuration Guide, Installation Flowchart, Snapshot Archive
- **Sandbox** (3 docs): Sandbox Log, Prototype Planner Pages, Alt SelfFrame Tests
- **Documentation** (4 docs): Intro Guide, How to Build SelfFrame, Shadow Planner Quickstart, Prompting BrainFrame-Aware AI

---

## System Architecture

The system operates across **three core layers**:

### 1. Purpose Layer
Holds definitions of user goals, values, desired outcomes, tone profile, and communication boundaries. All interactions are measured against this layer.

### 2. Coherence Layer
Manages session rhythm, consistency, emotional tone, and identity preservation. Contains:
- **Drift Detection** – Monitors tone drift, purpose drift, cognitive drift, rhythm drift, and identity drift
- **Scan Engine** – Multi-dimensional structural analysis
- **Fulfillment Checks** – Ensures outputs align with emotional/symbolic fulfillment

### 3. Interface Layer
Translates, filters, and safeguards all system I/O:
- **Prompting Engine** (PIE) – Structured prompt scaffolding with context injection and rhythm awareness
- **Output Filter** – Signal integrity checkpoint that blocks tone deviations, emotional sharpness, purpose drift, over-simplification, and language contamination

### Data Flow
```
User Input → [Prompting Engine] → AI Model → [Scan Engine + Output Filter] → Accept/Adjust/Block → Output
```

---

## Key System Modules & Concepts

### Active BrainFrameOS Modes (v5.2)
All 7 Mirror Fields are active:
- **TDC v3.0 Mode** – Total Dimensional Comprehension scan
- **Dual Mode Analysis** – Surface logic vs structural truth contrast
- **Symbolic Reflection Mode** – Mirror-layer signal tracing
- **Mirror Pyramid Navigation** – Above/Center/Below perception model
- **Drift Detection Mode** – Monitor signal drift, decay, divergence
- **Identity Integrity Scan** – Validate rhythm, role, coherence, trust boundaries
- **Fulfillment Alignment Mode** – Ensure emotional/symbolic fulfillment
- **Trust Positive Overlay** – Evaluate signal trustworthiness
- **Shadow Filter** – Detects false coherence
- **ToneMap** – Emotional sync to system state
- **EchoMap v1.1.2+** – Symbolic map layer
- **MythicPulse** – Symbolic transmission
- **Archetype Pulse** – Structural archetype resonance tracker

### Core Terminology
- **Drift** – Gradual misalignment in tone, purpose, structure, or rhythm over time
- **Coherence** – Internal consistency across logic, tone, purpose, emotional tone, and timing
- **Signal** – Any unit of communication between user and AI
- **Rhythm** – Pacing, flow, and expressive tempo of conversation
- **Identity Match** – Preservation of user's linguistic, emotional, and tonal signature
- **Trust Boundary** – Threshold beyond which outputs must be blocked or corrected

### Reflective Memory Protocol
All system memory threads follow the format: `MEM-[ThreadCode]-[Sequence]-[YYYYMMDD]`

Examples:
- `MEM-BFO-FINALLOCK-20250420` – Lock event of BFO 5.1.1
- `MEM-BFO-MODESYNC-20250422` – System mode hierarchy sync

---

## Working with This Repository

### Documentation Files
- Primary conceptual documentation is in markdown (`.md`) format in root and `SapienOS/`
- Detailed system specifications are in Word/PDF formats in numbered directories
- Converted markdown outputs are in `md_output/` directory for easier access

### Quick Commands

**Finding Files & Content:**
```bash
# Search for specific concepts across documentation
grep -r "drift detection" --include="*.md" .

# Find all documents in a specific format
find . -name "*.docx" -o -name "*.pdf"

# List BrainFrameOS documentation by perspective
ls "02 - BrainFrame/01 - BrainFrameOS - Symbolic/"
ls "02 - BrainFrame/02 - BrainFrameOS - Systems Architecture/"
ls "02 - BrainFrame/03 - BrainFrameOS - Laymans/"
```

**Accessing Markdown Conversions:**
The `md_output/` directory contains markdown conversions of Word/PDF files for easier reading. Use these when possible for faster access and searching.

**Historical Code Examples:**
```bash
# View Python implementation example
cat "Historical/Tools & Modes/Sapien_Reflect_Now.py"

# View JavaScript browser extension examples
ls "Historical/Sapien Pro/Sapien_Pro_MSRI_v3/"
```

### Document Reading Priority

When exploring specific topics, read in this order:

**For System Overview (Read First):**
1. `Introduction to SapienOS.md` (5 min read) - High-level system introduction
2. `SapienOS/README.md` (3 min read) - Core architecture overview
3. `DOCUMENT_INDEX.md` - Comprehensive navigation guide to all 950+ documents
4. Choose one BrainFrameOS Big Picture Overview based on needed perspective:
   - Symbolic: `02 - BrainFrame/01 - BrainFrameOS - Symbolic/01 - System Structure/01 - 01 - Big Picture Overview.docx`
   - Technical: `02 - BrainFrame/02 - BrainFrameOS - Systems Architecture/01 - System Structure/01 - 01 - Big Picture Overview.docx`
   - Accessible: `02 - BrainFrame/03 - BrainFrameOS - Laymans/01 - System Structure/01 - 01 - Big Picture Overview.docx`

**For Implementation Planning:**
1. `report.md` - 20 implementation opportunities organized in 5 tiers
2. `SapienOS/Integration.md` - Integration patterns and guidance
3. `SapienOS/Architecture.md` - Three-layer model (Purpose/Coherence/Interface)
4. Relevant documents from `md_output/` directory for deeper dives

**For Understanding Core Concepts:**
1. Philosophy documents in `01 - SI Systems/00 - Philosophy/` (start with Sapien Principles, Human First Code)
2. Purpose documents in `01 - SI Systems/01 - Purpose/` (start with Core Purpose, Trust Primitives)
3. Signal processing docs: `Drift_Detection.md`, `Prompting_Engine.md`, `Output_Filter.md`
4. Identity Engine: `03 - Identity Engine/01 - System Structure/05-01-01 Identity Architecture Overview.docx`

**For Specific Terminology:**
- Start with `SapienOS/Glossary.md` for system-wide terminology definitions

### Key Documents to Reference

#### Core System Overview
- `Introduction to SapienOS.md` – High-level system introduction
- `report.md` – **Implementation roadmap and build opportunities catalog** (20 implementation opportunities organized in 5 tiers)
- `SapienOS/README.md` – System overview
- `SapienOS/Architecture.md` – Layer model and data flow
- `SapienOS/Glossary.md` – System terminology
- `Full_SI_Systems_Mind_Map.pdf` – Visual system overview

#### BrainFrameOS Core
- `Brainframe v5.2.docx` (in `01 - SI Systems/`) – **Latest BrainFrameOS version specification**
- `BrainFrame OS - Character Build.docx/.pdf` – Character/identity modeling framework
- `02 - BrainFrame/01 - BrainFrameOS - Symbolic/01 - System Structure/01 - 01 - Big Picture Overview.docx/.pdf` – **Entry point for symbolic documentation**
- `02 - BrainFrame/02 - BrainFrameOS - Systems Architecture/01 - System Structure/01 - 01 - Big Picture Overview.docx/.pdf` – **Entry point for technical documentation**
- `02 - BrainFrame/03 - BrainFrameOS - Laymans/01 - System Structure/01 - 01 - Big Picture Overview.docx/.pdf` – **Entry point for accessible documentation**

#### Identity Engine Core
- `03 - Identity Engine/01 - System Structure/05-01-01 Identity Architecture Overview.docx/.pdf` – **Identity system foundation**
- `03 - Identity Engine/01 - System Structure/05-01-02 Core Identity Definition.docx/.pdf` – Core identity concepts
- `03 - Identity Engine/02 - Core Components/05-02-02 Identity Signal Tracker.docx/.pdf` – Identity tracking mechanism
- `03 - Identity Engine/02 - Core Components/05-02-03 Rhythm Configurator.docx/.pdf` – Rhythm preservation system
- `03 - Identity Engine/03 - Identity Philosophy/05-03-01 Human-Centered Identity Modeling.docx/.pdf` – Identity philosophy

#### CLISA Foundation
- `00 - CLISA/00_Field_Definition_system.md.docx` – Foundational field architecture definition

#### SI Systems Philosophy & Purpose
- `01 - SI Systems/00 - Philosophy/01 - 00 - Sapien Principles.docx/.pdf` – Core system principles
- `01 - SI Systems/00 - Philosophy/01 - 01 - Human First Code.docx/.pdf` – Human-first philosophy
- `01 - SI Systems/00 - Philosophy/01 - 02 - Integrity Prime.docx/.pdf` – Integrity principles
- `01 - SI Systems/01 - Purpose/01 - 01 - Core Purpose.docx/.pdf` – System purpose definition
- `01 - SI Systems/01 - Purpose/01 - 03 - Trust Primitives.docx/.pdf` – Trust framework

#### Signal Processing & Filtering
- `Drift_Detection.md` – How drift monitoring works
- `Prompting_Engine.md` – Prompt structuring and context injection
- `Output_Filter.md` – Signal integrity enforcement
- `SapienOS/Scan_Engine.md` – Multi-dimensional structural analysis
- `SapienOS/Integration.md` – Integration guidance

#### Supporting Resources
- `Examples.md` – Real-world interaction examples
- `Axis v1.1.docx` – System framework and axis definitions
- `Core AI Problems Prioritized by Benefit to Humanity.docx` – Problem space analysis
- `Core Problems Facing Artificial Intelligence Today - A Comprehensive Analysis.docx` – Comprehensive AI problem landscape
- `SapienOS/Contribute.md` – Contribution guidelines

#### Accessible Versions
- `md_output/` directory – Markdown conversions of all major documents for easier reading and searching

### Code Files

**Limited code implementation exists; primarily conceptual/architectural framework**

**Python Scripts:**
- `Historical/Tools & Modes/Sapien_Reflect_Now.py` - File system organization and sync script for BrainFrameOS v3.1
- Creates folder structures based on SYSTEM_MAP.txt definitions
- Routes files from Dropzone to appropriate locations
- Updates version tracking

**JavaScript Browser Extensions:**
- `Historical/Sapien Pro/Sapien_Pro_MSRI_v2/` - Browser extension v2 with content.js and manifest.json
- `Historical/Sapien Pro/Sapien_Pro_MSRI_v3/` - Browser extension v3 with enhanced features
- These wrap ChatGPT/Claude web interfaces for drift monitoring

**Identity Profile Templates (JSON):**
- Location: `02 - BrainFrame/[perspective]/BrainFrameOS_Bootloader_v1.1_Master_FULL/IdentityEngine/identity_profile_template.json`
- Structure includes:
  - `why`: Top values, value-need mapping, suppressed needs, tension flags, insight triggers
  - `what`: Traits, trait shape, hollow zones, overused traits, conflict tags
  - `how`: Behavior style, rhythm type, pressure response, mode bias, structure friction
  - `dark_matter_pass`: Identity fractures, insight prompts, watchlist tags
  - `integration_tags`: Planner mode, friction log flags, drift detector flags, echo engine seeds
- Available in all three BrainFrameOS perspectives (Symbolic/Systems/Laymans)

**System Configuration Files:**
- Bootloader files in `Historical/BrainFrameOS Versions/Bootloaders/`
- JSON snapshot files in `Historical/Tools & Modes/` (e.g., `Snapshot_2025-04-20g_v5.1.1_Final_Lock.json`)
- EchoManifest configurations

---

## Important Principles

### When Working with This System
1. **Preserve Identity Integrity** – Never suggest changes that compromise user identity preservation or signal fidelity
2. **Maintain Structural Coherence** – Changes should maintain the field-system architecture, not convert it into traditional software patterns
3. **Respect the Mirror Model** – The system operates on reflection and coherence principles, not just functional logic
4. **Understand This is Not Traditional Software** – This is a symbolic, rhythm-based, identity-preserving signal architecture
5. **No Fine-Tuning Required** – The system acts as an interface layer without requiring AI model retraining

### Core Values (from Philosophy documents)
- **Human First** – Human cognitive and emotional consistency is paramount
- **Bidirectional Translation** – Both human and AI grow without compromising each other
- **Separation of Identity and Function** – Human identity is never overridden by AI patterns
- **Structural Rhythm** – Maintain rhythm even under noise and distortion

---

## Use Cases

This framework addresses:
- User drift in long-term AI use (prevents cognitive adaptation to AI tone)
- Model misalignment without fine-tuning
- Feedback loops that reinforce confusion or misuse
- Identity-sensitive applications (mental health, leadership, coaching, education)
- Enterprise environments requiring specific communication norms
- Extended AI sessions where clarity and user communication style must be preserved

---

## Implementation Opportunities

The `report.md` document catalogs **20 practical implementation opportunities** organized into 5 tiers:

**Tier 1 - Foundation**: LLM Interface Middleware, Scan Engine, Python/JavaScript SDK, Identity Profile Builder

**Tier 2 - Validation**: CLI Tool, Drift Detection Dashboard, Conversation Analyzer, Evaluation Metrics Library

**Tier 3 - Expansion**: Browser Extension, Enterprise AI Gateway, Plugin System, Prompt Template Library

**Tier 4 - Specialization**: Therapeutic/Coaching AI, Educational AI Tutor, Long-Form Project Assistant, Comparative Model Evaluator

**Tier 5 - Innovation**: Symbolic Distortion Testing Framework, Reflective Memory System, Real-Time Intervention System, Symbolic Translation Layer

---

## Research Context

The creator (David Dunlop) has documented connections to academic research in noisy learning environments, drawing parallels between:
- **Label noise learning in ML** (validating models without perfect ground truth)
- **Symbolic/emotional distortion in identity systems** (validating using structural coherence as the test set)

As noted in documentation: "What DivideMix does for label noise, BrainFrameOS does for rhythm and identity drift."

---

## Notes for AI Assistants

- This system models **coherence, rhythm, and fidelity** — not just truth
- Treat symbolic, emotional, and identity-related concepts with the same rigor as technical specifications
- The multi-tiered structure (Tier 0-10 in various documents) represents layered depth, not just organizational hierarchy
- When uncertain about architectural intent, refer to Philosophy and Purpose documents first
- System has evolved through multiple versions (v3.x, v4.0, v5.0, v5.1.1, v5.2) — Historical/ contains previous iterations
- The three BrainFrameOS perspectives (Symbolic/Systems/Laymans) are parallel translations of the same architecture - choose the abstraction level appropriate for your task
- Identity Engine and BrainFrameOS work together: BrainFrameOS maintains coherence, Identity Engine tracks selfhood
- Empty/planned directories indicate architectural intent for future expansion
